<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>last.gis</title>
        
        <link rel="stylesheet" type="text/css" href="style.css">
        
        <script type="text/javascript" src="jquery.min.js"></script>
        <script type="text/javascript" src="jquery.rest.min.js"></script>
        <script type="text/javascript" src="giscloud.api.js"></script>
        <script type="text/javascript" src="script.js"></script>
        <script>
            $(document).ready(function () {
                var viewer, map, $ = giscloud.exposeJQuery(), mapId = 744548;
                
                giscloud.ready(function () {
                    viewer = new giscloud.Viewer("mapViewer", mapId, { slider: true });
                    map = new Map(viewer);
                });
                
                $('#search').click(function () {
                    giscloud.ready(function () {
                        viewer = new giscloud.Viewer("mapViewer", mapId, { slider: true });
                        map = new Map(viewer);
                    
                        var artist = new Artist($('#artistName').val());
                        var events = artist.getEvents();
                        var markers = map.createMarkersFromEvents(events);
                        map.addMarkersToMap(markers);
                    });
                });
            });
        </script>
    </head>
    <body>
        <input type="text" id="artistName" value="Hardwell" />
        <button id="search">Search</button>
        
        <div id="mapViewer"></div>
    </body>
</html>
